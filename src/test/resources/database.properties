devDBURL=jdbc:sqlserver://phgsql01.database.windows.net:1433;DatabaseName=db_rebate
devUser=qaautomation@phgsql01
devPassword=iopaXrR7xKfW983NEzjGHAQ4w66vUVcPVcFPnYqgJhBstbCe

uatDBURL=jdbc:sqlserver://phgsqltest01.database.windows.net:1433;DatabaseName=db_rebate
uatUser=qaautomation@phgsqltest01
uatPassword=iopaXrR7xKfW983NEzjGHAQ4w66vUVcPVcFPnYqgJhBstbCe


#SQLs to be used for API to fetch LOBs for a Contract
SQLtoPickaValidContract=select top 1 *  from [cfg].[MFR_Contract_Detail] where Is_Current_Flag=1


#dbURL=jdbc:sqlserver://phgsqltest01.database.windows.net:1433;DatabaseName=db_rebate
#user=qaautomation@phgsqltest01
#password=iopaXrR7xKfW983NEzjGHAQ4w66vUVcPVcFPnYqgJhBstbCe


# SQLs to be used for retrieving the values from Database
getCountOfMFRName=select count(*) as count from [mstr].[Manufacturer] where is_current_flag=1
getAllActiveMFRID=select manufacturer_id from [mstr].[Manufacturer] where is_current_flag=1 order by manufacturer_id asc
getAllActiveMFRName=select name from [mstr].[Manufacturer] where is_current_flag=1 order by name asc


#SQLs to be used for retriving ContractDetails from Datbase
getMFRRowKey=select top 1 Row_key  from[cfg].[MFR_Contract_Detail] where Is_Current_Flag=1
getContractID=select top 1 Contract_ID from [cfg].[MFR_Contract_Detail] where Row_key=?
getManufacturerID=select top 1 Manufacturer_ID from [cfg].[MFR_Contract_Header] where contract_ID=?
getManufacturerDetails=select top 1(Select top 1 JSON_QUERY((select Manufacturer_ID manufacturerId ,Name name,Industry_Relations_Manager industryRelationsManager from [mstr].[Manufacturer] where Manufacturer_ID=? for JSON Path,WITHOUT_ARRAY_WRAPPER)) as manufacturer from [mstr].[Manufacturer] for JSON PATH,WITHOUT_ARRAY_WRAPPER) as ManufacturerDetails from [mstr].[Manufacturer]
getContractHeaderDetails=select top 1(select top 1 JSON_QUERY((select Row_Key rowKey,Lifecycle_Status lifecycleStatus,Start_Date startDate,End_date endDate, replace(convert (varchar, Rec_Created_Date,121),' ','T') recCreatedDate,Rec_Created_BY recCreatedBy,replace(convert (varchar, rec_updated_date,121),' ','T') recUpdatedDate,Rec_Updated_BY recUpdatedBy,Contract_ID contractId,Manufacturer_ID manufacturerId,Contract_Type contractType,Contract_Name contractName,Contract_Doc_Reference contractDocReference,Notes notes  from[cfg].[MFR_Contract_Header] where contract_ID=? for JSON path,WITHOUT_ARRAY_WRAPPER,INCLUDE_NULL_VALUES ))as contractHeader from [cfg].[MFR_Contract_Header] for JSON path,WITHOUT_ARRAY_WRAPPER)as Contract_Header_Details from [cfg].[MFR_Contract_Header]
getContractDetailsJSON=select Contract_Detail_Json from [cfg].[MFR_Contract_Detail] where contract_ID=?
getContractDetailsCount=select count(*) Count_Of_ContractDetails from [cfg].[MFR_Contract_Detail]
getContractDetailsRowKeySql=select top 1 Row_key from[cfg].[MFR_Contract_Detail] where Is_Current_Flag=1


# getSelectOption SQLs to be used for retrieving the values from Database
getCodeTypeOfDisputeDays=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='DisputeDays' order by code_value asc
getCodeDictionaryOfDisputeDays=select code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='DisputeDays' order by code_Description asc
getCodeTypeOfBillingCycle=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='BillingCycle' order by code_value asc
getCodeDictionaryOfBillingCycle=select code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='BillingCycle' order by code_Description asc
getCodeTypeOfReSubmissionWindow=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='ReSubmissionWindow' order by code_value asc
getCodeDictionaryOfReSubmissionWindow=select code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='ReSubmissionWindow' order by code_Description asc
getCodeTypeOfUmRule=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='UmRule' order by code_value asc
getCodeDictionaryOfUmRule=select code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='UmRule' order by code_Description asc
getCodeTypeOfPricingMethod=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='PricingMethod' order by code_value asc
getCodeDictionaryOfPricingMethod=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='PricingMethod' order by code_Description asc
getCodeTypeOfPaymentTerms=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='PaymentTerms' order by code_value asc
getCodeDictionaryOfPaymentTerms=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='PaymentTerms' order by code_Description asc
getCodeTypeOfRebateableDrugTier=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='RebateableDrugTier' order by code_value asc
getCodeDictionaryOfRebateableDrugTier=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='RebateableDrugTier' order by code_Description asc
getCodeTypeOfCompFrmlPosition=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='CompFrmlPosition' order by code_value asc
getCodeDictionaryOfCompFrmlPosition=select code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='CompFrmlPosition' order by code_Description asc
getCodeTypeOfFrmlPosition=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='FrmlPosition' order by code_value asc
getCodeDictionaryOfFrmlPosition=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='FrmlPosition' order by code_Description asc
getCodeTypeOfSubmissionWindow=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='SubmissionWindow' order by code_value asc
getCodeDictionaryOfSubmissionWindow=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='SubmissionWindow' order by code_Description asc
getCodeTypeOfProdOrMfr=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='ProdOrMfr' order by code_value asc
getCodeDictionaryOfProdOrMfr=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='ProdOrMfr' order by code_Description asc
getCodeTypeOfDrugGroupType=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='DrugGroupType' order by code_value asc
getCodeDictionaryOfDrugGroupType=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='DrugGroupType' order by code_Description asc
getCodeTypeOfRebateOptionBillingCycle=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='RebateOptionBillingCycle' order by code_value asc
getCodeDictionaryOfRebateOptionBillingCycle=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='RebateOptionBillingCycle' order by code_Description asc
getCodeTypeOfLateFee=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='LateFee' order by code_value asc
getCodeDictionaryOfLateFee=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='LateFee' order by code_Description asc
getCodeTypeOfAuditFrequency=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='AuditFrequency' order by code_value asc
getCodeDictionaryOfAuditFrequency=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='AuditFrequency' order by code_Description asc
getCodeTypeOfAuditLookback=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='AuditLookback' order by code_value asc
getCodeDictionaryOfAuditLookback=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='AuditLookback' order by code_Description asc
getCodeTypeOfPricingBasis=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='PricingBasis' order by code_value asc
getCodeDictionaryOfPricingBasis=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='PricingBasis' order by code_Description asc
getCodeTypeOfPricingRefDate=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='PricingRefDate' order by code_value asc
getCodeDictionaryOfPricingRefDate=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='PricingRefDate' order by code_Description asc
getCodeTypeOfCompRestrictions=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='CompRestrictions' order by code_value asc
getCodeDictionaryOfCompRestrictions=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='CompRestrictions' order by code_Description asc
getCodeTypeOfCompDrugTier=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='CompDrugTier' order by code_value asc
getCodeDictionaryOfCompDrugTier=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='CompDrugTier' order by code_Description asc
getCodeTypeOfDrugSource=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='DrugSource' order by code_value asc
getCodeDictionaryOfDrugSource=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='DrugSource' order by code_Description asc
getCodeTypeOfDrugSearchCriteria=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='DrugSearchCriteria' order by code_value asc
getCodeDictionaryOfDrugSearchCriteria=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='DrugSearchCriteria' order by code_Description asc
getCodeTypeOfLobNonPartD=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='LobNonPartD' order by code_value asc
getCodeDictionaryOfLobNonPartD=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='LobNonPartD' order by code_Description asc
getCodeTypeOfLocations=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='Locations' order by code_value asc
getCodeDictionaryOfLocations=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='Locations' order by code_Description asc
getCodeTypeOfLobPartD=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='LobPartD' order by code_value asc
getCodeDictionaryOfLobPartD=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='LobPartD' order by code_Description asc
getCodeTypeOfFormularyType=select code_value from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='FormularyType' order by code_value asc
getCodeDictionaryOfFormularyType=select  code_Description from [ref].[Code_Dictionary] where is_current_flag=1 and code_type='FormularyType' order by code_Description asc

# PostInitiateNewManufactureContract SQLs to be used delete the record from the Database
deleteContractHeaderByContractName=DELETE FROM [cfg].[MFR_Contract_Header] where Contract_Name LIKE ?
deleteContractDetailByAmendmentName=DELETE FROM [cfg].[MFR_Contract_Detail] where Amendment_Name LIKE ?

getContractIdByContractName=select Contract_ID from [cfg].[MFR_Contract_Header] where Contract_Name=?
getRowKeyByContractName=select Row_Key from [cfg].[MFR_Contract_Header] where Contract_Name=?
getRowKeyByAmendmentName=select Row_Key from [cfg].[MFR_Contract_Detail] where Amendment_Name=?


# Discard a contract
getContractIDAndRowKey=select top 1 ch.contract_id,ch.row_key,ch.is_current_flag as ContractHeaderIsCurrentFlag,cd.is_current_flag as ContractDetailsIsCurrentFlag from [cfg].[MFR_Contract_Header]ch join [cfg].[MFR_Contract_Detail] cd on ch.contract_id=cd.contract_id where ch.Is_Current_Flag=1 and cd.Is_Current_Flag=1
#verifyIsCurrentFlag=select ch.is_current_flag as ContractHeaderIsCurrentFlag,cd.is_current_flag as ContractDetailsIsCurrentFlag from [cfg].[MFR_Contract_Header]ch join [cfg].[MFR_Contract_Detail] cd on ch.contract_id=cd.contract_id where ch.row_Key=?
updateContractHeader=update [cfg].[MFR_Contract_Header] set IS_Current_Flag=1 where Row_key=?
updateContractDetail=update    [cfg].[MFR_Contract_Detail] set IS_Current_Flag=1 where Row_key=?
verifyContractHeader=select count(*) as count from [cfg].[MFR_Contract_Header] where is_current_flag=0 and contract_id=?
verifyContractDetail=select count(*) as count from [cfg].[MFR_Contract_Detail] where is_current_flag=0 and contract_id =?
verifyDiscardContractHeader=select Is_Current_Flag from [cfg].[MFR_Contract_Header] where contract_id=?
verifyDiscardContractDetails=select Is_Current_Flag from [cfg].[MFR_Contract_Detail] where contract_id=?

#SQLs to be used for API to fetch benefitRules for a Contract by a contract ID
SQLtoPickaValidContractIDfromBenefitRulestable=select top 1 benefit_rule_id, benefit_rule_name, br.Contract_id, ch.contract_id from [cfg].[MFR_Contract_Benefit_Rule] BR, [cfg].[MFR_Contract_Header] CH where BR.contract_id=ch.contract_id  and br.is_current_flag=1  and ch.is_current_flag=1
SQLtoGetBenefitRuleDetailsOfaContractAsJson=select top 1(select  benefit_rule_id benefitRuleId, benefit_rule_name benefitRuleName from [cfg].[MFR_Contract_Benefit_Rule] where contract_id=? and Lifecycle_status='Approved' for Json path) as benefit_rule_Json from [cfg].[MFR_Contract_Benefit_Rule]
#SQLs to be used for API to fetchProgramsToProgramGrid
getContractIDOfProgram=Select top 1 Contract_ID from [cfg].[MFR_Program] where Is_Current_Flag=1 and Program_Detail_Json<>'Null'
getProgramDetailsToProgamGrid=Select * from [cfg].[MFR_Program] where Contract_ID=?
getProgramDetailJSONValues=Select concat('[', STRING_AGG (Program_Detail_Json, ','), ']') Program_Detail_JSON from [cfg].[MFR_Program] where Contract_ID=?
getDrugGroupJSONfromDbForProgramIntialSplit=Select top 1 (Select MFR_Druglist_ID mfrDlId,List_Name listName,List_Type listType From [cfg].[MFR_DrugList] where MFR_Druglist_ID In (
getDrugGroupJSONfromDbForProgramFinalSplit=) for json path) as drugsList from [cfg].[MFR_DrugList]

#SQLs to be used for FindDrugGroup of manufactuere API
getManufactuereName=Select top 1 Name from [mstr].[vw_Manufacturer]
getDrugGroupSummaryFromDB=Select Life_Cycle_Status lifecycleStatus,MFR_DrugList_ID mfrDrugListId,MFR_Name mfrName,List_Name drugGroupName,List_Type drugGroupType,List_Type_Description drugGroupTypeDesc,Mode mode,DrugList_Rule_ID drugListRuleId,Number_Of_Approved_NDC numberOfApprovedNDC,Number_Of_Pending_NDC numberOfPendingNDC from [cfg].[vw_MFR_DrugList_Summary]where MFR_Name=?
getManufacturerDrugList=Select top 1(select MFR_DrugList_ID mfrDrugListId from [cfg].[vw_MFR_DrugList_Summary]where MFR_Name=? for json path)as mfrDrugListId from [cfg].[vw_MFR_DrugList_Summary]
getNumberofApprovedNDC=Select top 1(select Number_Of_Approved_NDC numberOfApprovedNDC from [cfg].[vw_MFR_DrugList_Summary]where MFR_Name=? for json path)as numberOfApprovedNDC from [cfg].[vw_MFR_DrugList_Summary]
getNumberofPendingNDC=Select top 1(select Number_Of_Pending_NDC numberOfPendingNDC from [cfg].[vw_MFR_DrugList_Summary]where MFR_Name=? for json path)as numberOfPendingNDC from [cfg].[vw_MFR_DrugList_Summary]





#SQLs to be used for API to find all manufacture contract
getCountOfManufactureID=select count(*) as count from [cfg].[MFR_Contract_Header] where is_current_flag=1 and Manufacturer_ID='ASTRA001'
getContractHeaderColumeValueByRowKey=select ? from [cfg].[MFR_Contract_Header] where Row_Key LIKE ?
getContractDetailColumeValueByRowKey=select ? from [cfg].[MFR_Contract_Detail] where Row_Key LIKE ?

# Create Drug SQLs to be used delete the record from the Database
deleteDrugGroupByName=DELETE FROM [cfg].[MFR_DrugList] where List_Name LIKE ?
getDrugListID=select MFR_DrugList_ID from [cfg].[MFR_DrugList] where List_Name Like ?
columnNameDrugList_ID=MFR_DrugList_ID

# GET Drug Group Details SQLs
getMFRDrugListID=select top 1 MFR_DrugList_ID from [cfg].[MFR_DrugList_Detail]  where Is_Current_Flag=1