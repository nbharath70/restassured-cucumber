Feature:Retrieve and validate the Initiate New Manufacture Contract
#  Scenario: Validate Create new manufacturer Contract and verify Status code
#    Given User creates the Valid data for creating new Contract
#

  @Smoke
  Scenario: validate InitiateNewManufactureContract creation and verify correct status code with response body is returned
    Given User creates the New Manufacture Contract data with following details
      | ManufacturerId | ManufacturerName | contractType | startDate  | endDate    | notes                        | autoRenewFlag | autoRenewTerm | autoRenewNotifyDate | lineOfBusiness                                    | locations                          |
      | ABV001         | Abbvie           | Non-Part D   | 2015-01-01 | 2016-01-01 | Sample Note for the Contract | Y             | OneYear       | 2015-01-12          | Commercial#ManagedMedicaid#HiEx#CPOS#MedicareWrap | US_Only#Guam_Only#Puerto_Rico_Only |
    Then User hits the "postInitiateNewManufacturerContract" with post request
    Then User verify InitiateNewManufacturerContract status code "200" for the response
    Then User verify the valid Response body key "recordInserted" and expected value "true"
    #Then User executes the query "deleteContractHeaderByContractName" and "deleteContractDetailByAmendmentName" for contract & Amendment name "QAAutomation%" to delete the record from the database
    Then User executes the query "deleteContractHeaderByContractId" and "deleteContractDetailByContractId" to delete the contract records from the database


  @Functional
  Scenario: validate the Overlapping date with InitiateNewManufactureContract creation with different Line of Buisness value
    Given User creates the New Manufacture Contract data with following details
      | ManufacturerId | ManufacturerName | contractType | startDate  | endDate    | notes                        | autoRenewFlag | autoRenewTerm | autoRenewNotifyDate | lineOfBusiness | locations         |
      | ABV001         | Abbvie           | Non-Part D   | 2015-01-01 | 2016-01-01 | Sample Note for the Contract | Y             | OneYear       | 2015-01-12          | Commercial     | US_Only#Guam_Only |

    Then User hits the "postInitiateNewManufacturerContract" with post request
    Then User verify InitiateNewManufacturerContract status code "200" for the response
    Then User verify the valid Response body key "recordInserted" and expected value "true"
    Given User creates the New Manufacture Contract data with following details
      | ManufacturerId | ManufacturerName | contractType | startDate  | endDate    | notes                        | autoRenewFlag | autoRenewTerm | autoRenewNotifyDate | lineOfBusiness  | locations                          |
      | ABV001         | Abbvie           | Non-Part D   | 2015-01-01 | 2016-01-01 | Sample Note for the Contract | Y             | OneYear       | 2015-12-12          | ManagedMedicaid | US_Only#Guam_Only#Puerto_Rico_Only |
    Then User hits the "postInitiateNewManufacturerContract" with post request
    Then User verify InitiateNewManufacturerContract status code "200" for the response
    Then User verify the valid Response body key "recordInserted" and expected value "true"
    #Then User executes the query "deleteContractHeaderByContractName" and "deleteContractDetailByAmendmentName" for contract & Amendment name "QAAutomation%" to delete the record from the database
    Then User executes the query "deleteContractHeaderByContractId" and "deleteContractDetailByContractId" to delete the contract records from the database


  @Regression @Functional
  Scenario: validate the Overlapping date with InitiateNewManufactureContract creation with existing Line of Buisness value
    Given User creates the New Manufacture Contract data with following details
      | ManufacturerId | ManufacturerName | contractType | startDate  | endDate    | notes                        | autoRenewFlag | autoRenewTerm | autoRenewNotifyDate | lineOfBusiness | locations         |
      | ABV001         | Abbvie           | Non-Part D   | 2015-01-01 | 2016-01-01 | Sample Note for the Contract | Y             | OneYear       | 2015-01-12          | Commercial     | US_Only#Guam_Only |

    Then User hits the "postInitiateNewManufacturerContract" with post request
    Then User verify InitiateNewManufacturerContract status code "200" for the response
    Then User verify the valid Response body key "recordInserted" and expected value "true"
    Given User creates the New Manufacture Contract data with following details
      | ManufacturerId | ManufacturerName | contractType | startDate  | endDate    | notes                        | autoRenewFlag | autoRenewTerm | autoRenewNotifyDate | lineOfBusiness  | locations         |
      | ABV001         | Abbvie           | Non-Part D   | 2015-01-01 | 2016-01-01 | Sample Note for the Contract | Y             | OneYear       | 2015-01-12          | ManagedMedicaid | US_Only#Guam_Only |

    Then User hits the "postInitiateNewManufacturerContract" with post request
    Then User verify InitiateNewManufacturerContract status code "200" for the response
    Then User verify the valid Response body key "recordInserted" and expected value "true"
    Given User creates the New Manufacture Contract data with following details
      | ManufacturerId | ManufacturerName | contractType | startDate  | endDate    | notes                        | autoRenewFlag | autoRenewTerm | autoRenewNotifyDate | lineOfBusiness | locations                          |
      | ABV001         | Abbvie           | Non-Part D   | 2015-01-01 | 2016-01-01 | Sample Note for the Contract | Y             | OneYear       | 2015-01-12          | Commercial     | US_Only#Guam_Only#Puerto_Rico_Only |
    Then User hits the "postInitiateNewManufacturerContract" with post request
    Then User verify the InitiateNewManufacturerContract response header Error Code value "507"
    Then User verify InitiateNewManufacturerContract status code "200" for the response
    Then User verify the valid Response body key "recordInserted" and expected value "false"
    Then User verify the valid Response body key "contractDetailDatesOverlappingWithOtherContractDetailDates" and expected value "true"
    #Then User executes the query "deleteContractHeaderByContractName" and "deleteContractDetailByAmendmentName" for contract & Amendment name "QAAutomation%" to delete the record from the database
    Then User executes the query "deleteContractHeaderByContractId" and "deleteContractDetailByContractId" to delete the contract records from the database


  @Regression @Functional
  Scenario: validate Invalid Line of Business value
    Given User creates the New Manufacture Contract data with following details
      | ManufacturerId | ManufacturerName | contractType | startDate  | endDate    | notes                        | autoRenewFlag | autoRenewTerm | autoRenewNotifyDate | lineOfBusiness | locations                          |
      | ABV001         | Abbvie           | Non-Part D   | 2015-01-01 | 2016-01-01 | Sample Note for the Contract | Y             | OneYear       | 2015-01-12          | test           | US_Only#Guam_Only#Puerto_Rico_Only |
    Then User hits the "postInitiateNewManufacturerContract" with post request
    Then User verify the InitiateNewManufacturerContract response header Error Code value "504"
    Then User verify InitiateNewManufacturerContract status code "200" for the response
    Then User verify the valid Response body key "recordInserted" and expected value "false"
    Then User verify the valid Response body key "invalidLOB" and expected value "true"


  @Regression @Functional
  Scenario: validate invalid Contract Name
    Given User creates the New Manufacture Contract data with following details
      | ManufacturerId | ManufacturerName | contractType | startDate  | endDate    | notes                        | autoRenewFlag | autoRenewTerm | autoRenewNotifyDate | lineOfBusiness                                    | locations                          |
      | ABV001         | test             | Non-Part D   | 2015-01-01 | 2016-01-01 | Sample Note for the Contract | Y             | OneYear       | 2015-01-12          | Commercial#ManagedMedicaid#HiEx#CPOS#MedicareWrap | US_Only#Guam_Only#Puerto_Rico_Only |
    Then User hits the "postInitiateNewManufacturerContract" with post request
    Then User verify the InitiateNewManufacturerContract response header Error Code value "508"
    Then User verify InitiateNewManufacturerContract status code "200" for the response
    Then User verify the valid Response body key "recordInserted" and expected value "false"
    Then User verify the valid Response body key "invalidContractName" and expected value "true"


  @Regression @Functional
  Scenario: validate invalid Manufacturer
    Given User creates the New Manufacture Contract data with following details
      | ManufacturerId | ManufacturerName | contractType | startDate  | endDate    | notes                        | autoRenewFlag | autoRenewTerm | autoRenewNotifyDate | lineOfBusiness                                    | locations                          |
      | test           | Abbvie           | Non-Part D   | 2015-01-01 | 2016-01-01 | Sample Note for the Contract | Y             | OneYear       | 2015-01-12          | Commercial#ManagedMedicaid#HiEx#CPOS#MedicareWrap | US_Only#Guam_Only#Puerto_Rico_Only |
    Then User hits the "postInitiateNewManufacturerContract" with post request
    Then User verify the InitiateNewManufacturerContract response header Error Code value "508"
    Then User verify InitiateNewManufacturerContract status code "200" for the response
    Then User verify the valid Response body key "recordInserted" and expected value "false"
    Then User verify the valid Response body key "invalidManufacturer" and expected value "true"


  @Regression @Functional
  Scenario: validate Manufacturer Contract start date should not be after the end date
    Given User creates the New Manufacture Contract data with following details
      | ManufacturerId | ManufacturerName | contractType | startDate  | endDate    | notes                        | autoRenewFlag | autoRenewTerm | autoRenewNotifyDate | lineOfBusiness                                    | locations                          |
      | ABV001         | Abbvie           | Non-Part D   | 2015-01-01 | 2014-01-01 | Sample Note for the Contract | Y             | OneYear       | 2015-01-12          | Commercial#ManagedMedicaid#HiEx#CPOS#MedicareWrap | US_Only#Guam_Only#Puerto_Rico_Only |
    Then User hits the "postInitiateNewManufacturerContract" with post request
    Then User verify the InitiateNewManufacturerContract response header Error Code value "-1"
    Then User verify InitiateNewManufacturerContract status code "200" for the response
    Then User verify the valid Response body key "message" and expected value "Manufacturer Contract start date should not be after the end date" of string


  @Regression @Functional
  Scenario: validate invalidNotes
    Given User creates the New Manufacture Contract data with following details
      | ManufacturerId | ManufacturerName | contractType | startDate  | endDate    | notes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | autoRenewFlag | autoRenewTerm | autoRenewNotifyDate | lineOfBusiness                                    | locations                          |
      | ABV001         | Abbvie           | Non-Part D   | 2015-01-01 | 2016-01-01 | TestdjfnjdsnfjndfjndsjnfjdsnfdsjnjfnjdsnjfndsfnjnfdsnjdsnfndsfnfdsjnfjdsjnfdsnfdsfnjjdsnndsjnfnjdsjnfdsnfndsfnjdsnjfndsjnfjdfnjsnfjdsnfkjndsfnjdsnfjdsnfjnfdsjnfjdsnfjdsnjfndddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsdjkfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffTestdjfnjdsnfjndfjndsjnfjdsnfdsjnjfnjdsnjfndsfnjnfdsnjdsnfndsfnfdsjnfjdsjnfdsnfdsfnjjdsnndsjnfnjdsjnfdsnfndsfnjdsnjfndsjnfjdfnjsnfjdsnfkjndsfnjdsnfjdsnfjnfdsjnfjdsnfjdsnjfndddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsdjkfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffTestdjfnjdsnfjndfjndsjnfjdsnfdsjnjfnjdsnjfndsfnjnfdsnjdsnfndsfnfdsjnfjdsjnfdsnfdsfnjjdsnndsjnfnjdsjnfdsnfndsfnjdsnjfndsjnfjdfnjsnfjdsnfkjndsfnjdsnfjdsnfjnfdsjnfjdsnfjdsnjfndddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsdjkfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffTestdjfnjdsnfjndfjndsjnfjdsnfdsjnjfnjdsnjfndsfnjnfdsnjdsnfndsfnfdsjnfjdsjnfdsnfdsfnjjdsnndsjnfnjdsjnfdsnfndsfnjdsnjfndsjnfjdfnjsnfjdsnfkjndsfnjdsnfjdsnfjnfdsjnfjdsnfjdsnjfndddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsdjkfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffTestdjfnjdsnfjndfjndsjnfjdsnfdsjnjfnjdsnjfndsfnjnfdsnjdsnfndsfnfdsjnfjdsjnfdsnfdsfnjjdsnndsjnfnjdsjnfdsnfndsfnjdsnjfndsjnfjdfnjsnfjdsnfkjndsfnjdsnfjdsnfjnfdsjnfjdsnfjdsnjfndddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsdjkfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffTestdjfnjdsnfjndfjndsjnfjdsnfdsjnjfnjdsnjfndsfnjnfdsnjdsnfndsfnfdsjnfjdsjnfdsnfdsfnjjdsnndsjnfnjdsjnfdsnfndsfnjdsnjfndsjnfjdfnjsnfjdsnfkjndsfnjdsnfjdsnfjnfdsjnfjdsnfjdsnjfndddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsdjkfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffTestdjfnjdsnfjndfjndsjnfjdsnfdsjnjfnjdsnjfndsfnjnfdsnjdsnfndsfnfdsjnfjdsjnfdsnfdsfnjjdsnndsjnfnjdsjnfdsnfndsfnjdsnjfndsjnfjdfnjsnfjdsnfkjndsfnjdsnfjdsnfjnfdsjnfjdsnfjdsnjfndddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsdjkfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffTestdjfnjdsnfjndfjndsjnfjdsnfdsjnjfnjdsnjfndsfnjnfdsnjdsnfndsfnfdsjnfjdsjnfdsnfdsfnjjdsnndsjnfnjdsjnfdsnfndsfnjdsnjfndsjnfjdfnjsnfjdsnfkjndsfnjdsnfjdsnfjnfdsjnfjdsnfjdsnjfndddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsdjkfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffTestdjfnjdsnfjndfjndsjnfjdsnfdsjnjfnjdsnjfndsfnjnfdsnjdsnfndsfnfdsjnfjdsjnfdsnfdsfnjjdsnndsjnfnjdsjnfdsnfndsfnjdsnjfndsjnfjdfnjsnfjdsnfkjndsfnjdsnfjdsnfjnfdsjnfjdsnfjdsnjfndddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsdjkfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffTestdjfnjdsnfjndfjndsjnfjdsnfdsjnjfnjdsnjfndsfnjnfdsnjdsnfndsfnfdsjnfjdsjnfdsnfdsfnjjdsnndsjnfnjdsjnfdsnfndsfnjdsnjfndsjnfjdfnjsnfjdsnfkjndsfnjdsnfjdsnfjnfdsjnfjdsnfjdsnjfndddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsdjkfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffTestdjfnjdsnfjndfjndsjnfjdsnfdsjnjfnjdsnjfndsfnjnfdsnjdsnfndsfnfdsjnfjdsjnfdsnfdsfnjjdsnndsjnfnjdsjnfdsnfndsfnjdsnjfndsjnfjdfnjsnfjdsnfkjndsfnjdsnfjdsnfjnfdsjnfjdsnfjdsnjfndddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsdjkfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffTestdjfnjdsnfjndfjndsjnfjdsnfdsjnjfnjdsnjfndsfnjnfdsnjdsnfndsfnfdsjnfjdsjnfdsnfdsfnjjdsnndsjnfnjdsjnfdsnfndsfnjdsnjfndsjnfjdfnjsnfjdsnfkjndsfnjdsnfjdsnfjnfdsjnfjdsnfjdsnjfndddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsdjkfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffTestdjfnjdsnfjndfjndsjnfjdsnfdsjnjfnjdsnjfndsfnjnfdsnjdsnfndsfnfdsjnfjdsjnfdsnfdsfnjjdsnndsjnfnjdsjnfdsnfndsfnjdsnjfndsjnfjdfnjsnfjdsnfkjndsfnjdsnfjdsnfjnfdsjnfjdsnfjdsnjfndddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsdjkfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffTestdjfnjdsnfjndfjndsjnfjdsnfdsjnjfnjdsnjfndsfnjnfdsnjdsnfndsfnfdsjnfjdsjnfdsnfdsfnjjdsnndsjnfnjdsjnfdsnfndsfnjdsnjfndsjnfjdfnjsnfjdsnfkjndsfnjdsnfjdsnfjnfdsjnfjdsnfjdsnjfndddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsdjkfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff | Y             | OneYear       | 2015-01-12          | Commercial#ManagedMedicaid#HiEx#CPOS#MedicareWrap | US_Only#Guam_Only#Puerto_Rico_Only |
    Then User hits the "postInitiateNewManufacturerContract" with post request
    Then User verify the InitiateNewManufacturerContract response header Error Code value "503"
    Then User verify InitiateNewManufacturerContract status code "200" for the response
    Then User verify the valid Response body key "recordInserted" and expected value "false"
    Then User verify the valid Response body key "invalidNotes" and expected value "true"


  @Regression @Functional
  Scenario: Validate Initiate New Manufacture Contract for Discard contract
    Given User creates the New Manufacture Contract data with following details
      | ManufacturerId | ManufacturerName | contractType | startDate  | endDate    | notes                        | autoRenewFlag | autoRenewTerm | autoRenewNotifyDate | lineOfBusiness                                    | locations                          |
      | ABV001         | Abbvie           | Non-Part D   | 2015-01-01 | 2016-01-01 | Sample Note for the Contract | Y             | OneYear       | 2015-01-12          | Commercial#ManagedMedicaid#HiEx#CPOS#MedicareWrap | US_Only#Guam_Only#Puerto_Rico_Only |
    Then User hits the "postInitiateNewManufacturerContract" with post request
    Then User verify InitiateNewManufacturerContract status code "200" for the response
    Then User verify the valid Response body key "recordInserted" and expected value "true"
    When User hits the "discardContractResource" Endpoint with delete API request to discard Initiate New Manufacture Contract by "rowKeyContractHeader" and contractName ""
    Then User verifies the isManufacturerContractDiscarded as true value in response for new manufacture contract
    Given User creates the New Manufacture Contract data with following details
      | ManufacturerId | ManufacturerName | contractType | startDate  | endDate    | notes                        | autoRenewFlag | autoRenewTerm | autoRenewNotifyDate | lineOfBusiness                                    | locations                          |
      | ABV001         | Abbvie           | Non-Part D   | 2015-01-01 | 2016-01-01 | Sample Note for the Contract | Y             | OneYear       | 2015-01-12          | Commercial#ManagedMedicaid#HiEx#CPOS#MedicareWrap | US_Only#Guam_Only#Puerto_Rico_Only |
    Then User hits the "postInitiateNewManufacturerContract" with post request
    Then User verify InitiateNewManufacturerContract status code "200" for the response
    Then User verify the valid Response body key "recordInserted" and expected value "true"
    #Then User executes the query "deleteContractHeaderByContractName" and "deleteContractDetailByAmendmentName" for contract & Amendment name "QAAutomation%" to delete the record from the database
    Then User executes the query "deleteContractHeaderByContractId" and "deleteContractDetailByContractId" to delete the contract records from the database
